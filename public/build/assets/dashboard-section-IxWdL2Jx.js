import{r as v,R as f,u as B,j as l}from"./app-B0mkSrTT.js";import b from"./dashboard-card-section-scyTjY5h.js";import L from"./dashboard-line-chart-section-C-ZKA_1I.js";import{F as N}from"./TicketIcon-Bcmnq4FA.js";function z({title:n,titleId:t,...e},a){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},e),n?v.createElement("title",{id:t},n):null,v.createElement("path",{fillRule:"evenodd",d:"M2.25 13.5a8.25 8.25 0 0 1 8.25-8.25.75.75 0 0 1 .75.75v6.75H18a.75.75 0 0 1 .75.75 8.25 8.25 0 0 1-16.5 0Z",clipRule:"evenodd"}),v.createElement("path",{fillRule:"evenodd",d:"M12.75 3a.75.75 0 0 1 .75-.75 8.25 8.25 0 0 1 8.25 8.25.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75V3Z",clipRule:"evenodd"}))}const V=v.forwardRef(z);function S(n){return n*Math.PI/180}function R(n,t,e){return n>e?e:n<t?t:n}function w(n,t){return t/100*n}function D(n,t){return n+t/2}function T(n,t){var e=S(n);return{dx:t*Math.cos(e),dy:t*Math.sin(e)}}function E(n){return typeof n=="number"}function M(n,t){return typeof n=="function"?n(t):n}function $(n,t){var e=Object.assign({},t,n);for(var a in t)n[a]===void 0&&(e[a]=t[a]);return e}function I(n){for(var t=0,e=0;e<n.length;e++)t+=n[e].value;return t}function H(n){for(var t=n.data,e=n.lengthAngle,a=n.totalValue,r=n.paddingAngle,i=n.startAngle,s=a||I(t),o=R(e,-360,360),u=Math.abs(o)===360?t.length:t.length-1,g=Math.abs(r)*Math.sign(e),d=g*u,c=o-d,m=0,k=[],h=0;h<t.length;h++){var y=t[h],A=s===0?0:y.value/s*100,P=w(c,A),x=m+i;m=m+P+g,k.push(Object.assign({percentage:A,startAngle:x,degrees:P},y))}return k}function W(n,t){if(n==null)return{};var e={},a=Object.keys(n),r,i;for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function U(n){var t=n.renderLabel,e=n.labelProps,a=t(e);if(typeof a=="string"||typeof a=="number"){e.dataEntry,e.dataIndex;var r=W(e,["dataEntry","dataIndex"]);return f.createElement("text",Object.assign({dominantBaseline:"central"},r),a)}return f.isValidElement(a)?a:null}function G(n){var t=1e14;return Math.round((n+Number.EPSILON)*t)/t}function K(n){var t=n.labelPosition,e=n.lineWidth,a=n.labelHorizontalShift,r=G(a);if(r===0)return"middle";if(t>100)return r>0?"start":"end";var i=100-e;return t<i?r>0?"end":"start":"middle"}function X(n,t){return n.map(function(e,a){var r,i=(r=M(t.segmentsShift,a))!=null?r:0,s=w(t.radius,t.labelPosition)+i,o=T(D(e.startAngle,e.degrees),s),u=o.dx,g=o.dy,d={x:t.center[0],y:t.center[1],dx:u,dy:g,textAnchor:K({labelPosition:t.labelPosition,lineWidth:t.lineWidth,labelHorizontalShift:u}),dataEntry:e,dataIndex:a,style:M(t.labelStyle,a)};return d})}function Y(n,t){var e=t.label;if(e)return X(n,t).map(function(a,r){return f.createElement(U,{key:"label-"+(a.dataEntry.key||r),renderLabel:e,labelProps:a})})}var Z=function(t,e,a,r,i){var s=i-r;if(s===0)return[];var o=a*Math.cos(r)+t,u=a*Math.sin(r)+e,g=a*Math.cos(i)+t,d=a*Math.sin(i)+e,c=Math.abs(s)<=Math.PI?"0":"1",m=s<0?"0":"1";return[["M",o,u],["A",a,a,0,c,m,g,d]]},q=Z,J=q;function Q(n,t,e,a,r){var i=R(a,-359.999,359.999);return J(n,t,r,S(e),S(e+i)).map(function(s){return s.join(" ")}).join(" ")}function O(n){var t=n.cx,e=n.cy,a=n.lengthAngle,r=n.lineWidth,i=n.radius,s=n.shift,o=s===void 0?0:s,u=n.reveal,g=n.rounded,d=n.startAngle,c=n.title,m=W(n,["cx","cy","lengthAngle","lineWidth","radius","shift","reveal","rounded","startAngle","title"]),k=i-r/2,h=T(D(d,a),o),y=h.dx,A=h.dy,P=Q(t+y,e+A,d,a,k),x,C;if(E(u)){var F=S(k)*a;x=Math.abs(F),C=x-w(x,u)}return f.createElement("path",Object.assign({d:P,fill:"none",strokeWidth:r,strokeDasharray:x,strokeDashoffset:C,strokeLinecap:g?"round":void 0},m),c&&f.createElement("title",null,c))}function p(n,t,e){var a="stroke-dashoffset "+n+"ms "+t;return e&&e.transition&&(a=a+","+e.transition),{transition:a}}function _(n){return n.animate&&!E(n.reveal)?100:n.reveal}function j(n,t){return n&&function(e){n(e,t)}}function ee(n,t,e){var a=e??_(t),r=t.radius,i=t.center,s=i[0],o=i[1],u=w(r,t.lineWidth),g=n.map(function(d,c){var m=M(t.segmentsStyle,c);return f.createElement(O,{cx:s,cy:o,key:d.key||c,lengthAngle:d.degrees,lineWidth:u,radius:r,rounded:t.rounded,reveal:a,shift:M(t.segmentsShift,c),startAngle:d.startAngle,title:d.title,style:Object.assign({},m,t.animate&&p(t.animationDuration,t.animationEasing,m)),stroke:d.color,tabIndex:t.segmentsTabIndex,onBlur:j(t.onBlur,c),onClick:j(t.onClick,c),onFocus:j(t.onFocus,c),onKeyDown:j(t.onKeyDown,c),onMouseOver:j(t.onMouseOver,c),onMouseOut:j(t.onMouseOut,c)})});return t.background&&g.unshift(f.createElement(O,{cx:s,cy:o,key:"bg",lengthAngle:t.lengthAngle,lineWidth:u,radius:r,rounded:t.rounded,startAngle:t.startAngle,stroke:t.background})),g}var te={animationDuration:500,animationEasing:"ease-out",center:[50,50],data:[],labelPosition:50,lengthAngle:360,lineWidth:100,paddingAngle:0,radius:50,startAngle:0,viewBoxSize:[100,100]};function ne(n){var t=$(n,te),e=v.useState(t.animate?0:null),a=e[0],r=e[1];v.useEffect(function(){t.animate&&r(null)},[]);var i=H(t);return f.createElement("svg",{viewBox:"0 0 "+t.viewBoxSize[0]+" "+t.viewBoxSize[1],width:"100%",height:"100%",className:t.className,style:t.style},ee(i,t,a),Y(i,t),t.children)}function se(){var r;const[n,t]=v.useState(null),{dashboard:e}=B(i=>i.admin),a=(i,s,o)=>{console.log("Clicked segment:",s)};return console.log("dashboardss",e),l.jsxs("div",{className:"flex flex-col gap-8",children:[l.jsxs("div",{className:"flex flex-wrap gap-7 rounded-md",children:[l.jsx(b,{icon:l.jsx(N,{className:"h-12 text-white"}),title:`Pending Tickets: ${(e==null?void 0:e.pending)??0}`,href:"Go To Pending Tickets Section",link:"/admin/tickets?page=1&search=Pending"}),l.jsx(b,{icon:l.jsx(N,{className:"h-12 text-white"}),title:`Urgent Tickets: ${(e==null?void 0:e.urgent)??0}`,href:"Go To Urgent Tickets Section",link:"/admin/tickets?page=1&search=isUrgent"}),l.jsx(b,{icon:l.jsx(N,{className:"h-12 text-white"}),title:`Ongoing Tickets: ${(e==null?void 0:e.ongoing)??0}`,href:"Go To Ongoing Tickets Section",link:"/admin/tickets?page=1&search=Ongoing"}),l.jsx(b,{icon:l.jsx(N,{className:"h-12 text-white"}),title:`Closed Tickets: ${(e==null?void 0:e.closed)??0}`,href:"Go To Closed Tickets Section",link:"/admin/tickets?page=1&search=Closed"})]}),l.jsxs("div",{children:[l.jsx("center",{children:l.jsxs("div",{className:" p-3 rounded-lg w-1/2",children:[l.jsxs("div",{className:"flex text-3xl text-gray-900 font-bold mb-3 p-3",children:[l.jsx(V,{className:"size-10"}),"Inquiry Chart"]}),l.jsxs("div",{className:"flex w-full items-start justify-between",children:[l.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 text-md",children:[l.jsxs("div",{className:"flex items-center text-yellow-400",children:[l.jsx("div",{className:"ml-1",children:"Pending:"}),l.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.pending)??0})]}),l.jsxs("div",{className:"flex text-[#e86100] items-center",children:[l.jsx("div",{className:"ml-1",children:"Urgent:"}),l.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.urgent)??0})]}),l.jsxs("div",{className:"flex text-blue-400 items-center",children:[l.jsx("div",{className:"ml-1",children:"Assigned:"}),l.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.assigned)??0})]})]}),l.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 text-md",children:[l.jsxs("div",{className:"flex text-green-600 items-center",children:[l.jsx("div",{className:"ml-1",children:"Closed:"}),l.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.closed)??0})]}),l.jsxs("div",{className:"flex text-[#ff0000] items-center",children:[l.jsx("div",{className:"ml-1",children:"Declined:"}),l.jsx("div",{className:" ml-1 text-md",children:(e==null?void 0:e.declined)??0})]})]})]}),l.jsx(ne,{style:{height:"300px"},lineWidth:55,animate:!0,animationDuration:1e3,label:({dataEntry:i})=>`${Math.round(i.percentage)}%`,labelStyle:i=>({fill:"black",fontSize:"7px",fontFamily:"sans-serif",transform:i===n?"scale(1.1)":"scale(1)",transition:"transform 0.3s"}),labelPosition:74,paddingAngle:1.8,onMouseOver:(i,s,o)=>{t(s)},onMouseOut:()=>{t(null)},onClick:(i,s,o)=>{a(i,s)},data:[{title:"Urgent",value:(e==null?void 0:e.urgent)??0,color:"#e86100  "},{title:"Closed",value:(e==null?void 0:e.closed)??0,color:"#009e60 "},{title:"Assigned",value:(e==null?void 0:e.assigned)??0,color:"#4299E1"},{title:"Pending",value:(e==null?void 0:e.pending)??0,color:"#FFFF00"},{title:"Declined",value:(e==null?void 0:e.declined)??0,color:"#ff0000"}],segmentsStyle:i=>({transition:"transform 0.3s",transform:i===n?"scale(1.1)":"scale(1)"})})]})}),(r=e==null?void 0:e.data)==null?void 0:r.map(i=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-black text-xl",children:i==null?void 0:i.name}),l.jsx(L,{data:i})]}))]})]})}export{se as default};

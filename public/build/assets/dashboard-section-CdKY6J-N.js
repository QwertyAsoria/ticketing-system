import{r as P,R as f,u as L,j as i}from"./app-OU13iKjT.js";import S from"./dashboard-card-section-vwUUuLFE.js";import z from"./dashboard-line-chart-section-CeiC7sVA.js";import{F as C,D as B}from"./dashboard-it-filtering-section-CwSnoq5_.js";import{F as A}from"./TicketIcon-DUtVrP5p.js";import"./it-daily-filtering-chart-section-CdzBLfjr.js";import"./it-monthly-filtering-chart-section-BDkR_S7j.js";import"./it-weekly-filtering-chart-section copy-CzqmnDE4.js";function b(n){return n*Math.PI/180}function w(n,t,e){return n>e?e:n<t?t:n}function D(n,t){return t/100*n}function W(n,t){return n+t/2}function R(n,t){var e=b(n);return{dx:t*Math.cos(e),dy:t*Math.sin(e)}}function E(n){return typeof n=="number"}function T(n,t){return typeof n=="function"?n(t):n}function $(n,t){var e=Object.assign({},t,n);for(var a in t)n[a]===void 0&&(e[a]=t[a]);return e}function V(n){for(var t=0,e=0;e<n.length;e++)t+=n[e].value;return t}function U(n){for(var t=n.data,e=n.lengthAngle,a=n.totalValue,l=n.paddingAngle,s=n.startAngle,o=a||V(t),m=w(e,-360,360),r=Math.abs(m)===360?t.length:t.length-1,c=Math.abs(l)*Math.sign(e),d=c*r,u=m-d,g=0,j=[],v=0;v<t.length;v++){var k=t[v],y=o===0?0:k.value/o*100,N=D(u,y),h=g+s;g=g+N+c,j.push(Object.assign({percentage:y,startAngle:h,degrees:N},k))}return j}function F(n,t){if(n==null)return{};var e={},a=Object.keys(n),l,s;for(s=0;s<a.length;s++)l=a[s],!(t.indexOf(l)>=0)&&(e[l]=n[l]);return e}function G(n){var t=n.renderLabel,e=n.labelProps,a=t(e);if(typeof a=="string"||typeof a=="number"){e.dataEntry,e.dataIndex;var l=F(e,["dataEntry","dataIndex"]);return f.createElement("text",Object.assign({dominantBaseline:"central"},l),a)}return f.isValidElement(a)?a:null}function H(n){var t=1e14;return Math.round((n+Number.EPSILON)*t)/t}function p(n){var t=n.labelPosition,e=n.lineWidth,a=n.labelHorizontalShift,l=H(a);if(l===0)return"middle";if(t>100)return l>0?"start":"end";var s=100-e;return t<s?l>0?"end":"start":"middle"}function K(n,t){return n.map(function(e,a){var l,s=(l=T(t.segmentsShift,a))!=null?l:0,o=D(t.radius,t.labelPosition)+s,m=R(W(e.startAngle,e.degrees),o),r=m.dx,c=m.dy,d={x:t.center[0],y:t.center[1],dx:r,dy:c,textAnchor:p({labelPosition:t.labelPosition,lineWidth:t.lineWidth,labelHorizontalShift:r}),dataEntry:e,dataIndex:a,style:T(t.labelStyle,a)};return d})}function q(n,t){var e=t.label;if(e)return K(n,t).map(function(a,l){return f.createElement(G,{key:"label-"+(a.dataEntry.key||l),renderLabel:e,labelProps:a})})}var J=function(t,e,a,l,s){var o=s-l;if(o===0)return[];var m=a*Math.cos(l)+t,r=a*Math.sin(l)+e,c=a*Math.cos(s)+t,d=a*Math.sin(s)+e,u=Math.abs(o)<=Math.PI?"0":"1",g=o<0?"0":"1";return[["M",m,r],["A",a,a,0,u,g,c,d]]},X=J,Y=X;function Q(n,t,e,a,l){var s=w(a,-359.999,359.999);return Y(n,t,l,b(e),b(e+s)).map(function(o){return o.join(" ")}).join(" ")}function O(n){var t=n.cx,e=n.cy,a=n.lengthAngle,l=n.lineWidth,s=n.radius,o=n.shift,m=o===void 0?0:o,r=n.reveal,c=n.rounded,d=n.startAngle,u=n.title,g=F(n,["cx","cy","lengthAngle","lineWidth","radius","shift","reveal","rounded","startAngle","title"]),j=s-l/2,v=R(W(d,a),m),k=v.dx,y=v.dy,N=Q(t+k,e+y,d,a,j),h,M;if(E(r)){var I=b(j)*a;h=Math.abs(I),M=h-D(h,r)}return f.createElement("path",Object.assign({d:N,fill:"none",strokeWidth:l,strokeDasharray:h,strokeDashoffset:M,strokeLinecap:c?"round":void 0},g),u&&f.createElement("title",null,u))}function Z(n,t,e){var a="stroke-dashoffset "+n+"ms "+t;return e&&e.transition&&(a=a+","+e.transition),{transition:a}}function _(n){return n.animate&&!E(n.reveal)?100:n.reveal}function x(n,t){return n&&function(e){n(e,t)}}function ee(n,t,e){var a=e??_(t),l=t.radius,s=t.center,o=s[0],m=s[1],r=D(l,t.lineWidth),c=n.map(function(d,u){var g=T(t.segmentsStyle,u);return f.createElement(O,{cx:o,cy:m,key:d.key||u,lengthAngle:d.degrees,lineWidth:r,radius:l,rounded:t.rounded,reveal:a,shift:T(t.segmentsShift,u),startAngle:d.startAngle,title:d.title,style:Object.assign({},g,t.animate&&Z(t.animationDuration,t.animationEasing,g)),stroke:d.color,tabIndex:t.segmentsTabIndex,onBlur:x(t.onBlur,u),onClick:x(t.onClick,u),onFocus:x(t.onFocus,u),onKeyDown:x(t.onKeyDown,u),onMouseOver:x(t.onMouseOver,u),onMouseOut:x(t.onMouseOut,u)})});return t.background&&c.unshift(f.createElement(O,{cx:o,cy:m,key:"bg",lengthAngle:t.lengthAngle,lineWidth:r,radius:l,rounded:t.rounded,startAngle:t.startAngle,stroke:t.background})),c}var te={animationDuration:500,animationEasing:"ease-out",center:[50,50],data:[],labelPosition:50,lengthAngle:360,lineWidth:100,paddingAngle:0,radius:50,startAngle:0,viewBoxSize:[100,100]};function ne(n){var t=$(n,te),e=P.useState(t.animate?0:null),a=e[0],l=e[1];P.useEffect(function(){t.animate&&l(null)},[]);var s=U(t);return f.createElement("svg",{viewBox:"0 0 "+t.viewBoxSize[0]+" "+t.viewBoxSize[1],width:"100%",height:"100%",className:t.className,style:t.style},ee(s,t,a),q(s,t),t.children)}function ue(){var m;const[n,t]=P.useState(null),{dashboard:e}=L(r=>r.admin),a=(r,c,d)=>{console.log("Clicked segment:",c)},[l,s]=P.useState(null),o=r=>{const c=JSON.parse(r);s(c)};return console.log("dashboardss",e),i.jsxs("div",{className:"flex flex-col gap-8",children:[i.jsxs("div",{className:"flex flex-wrap gap-7 rounded-md",children:[i.jsx(S,{icon:i.jsx(A,{className:"h-12 text-white"}),title:`Pending Tickets: ${(e==null?void 0:e.pending)??0}`,href:"Go To Pending Tickets Section",link:"/admin/tickets?page=1&search=Pending"}),i.jsx(S,{icon:i.jsx(A,{className:"h-12 text-white"}),title:`Urgent Tickets: ${(e==null?void 0:e.urgent)??0}`,href:"Go To Urgent Tickets Section",link:"/admin/tickets?page=1&search=isUrgent"}),i.jsx(S,{icon:i.jsx(A,{className:"h-12 text-white"}),title:`Ongoing Tickets: ${(e==null?void 0:e.ongoing)??0}`,href:"Go To Ongoing Tickets Section",link:"/admin/tickets?page=1&search=Ongoing"}),i.jsx(S,{icon:i.jsx(A,{className:"h-12 text-white"}),title:`Closed Tickets: ${(e==null?void 0:e.closed)??0}`,href:"Go To Closed Tickets Section",link:"/admin/tickets?page=1&search=Closed"})]}),i.jsxs("div",{children:[i.jsx("center",{children:i.jsxs("div",{className:" p-3 rounded-lg w-1/2",children:[i.jsxs("div",{className:"flex text-3xl text-gray-900 font-bold mb-3 p-3",children:[i.jsx(C,{className:"size-10"}),"Tickets Status Inquiry Chart"]}),i.jsxs("div",{className:"flex w-full items-start justify-center",children:[i.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 text-md",children:[i.jsxs("div",{className:"flex items-center text-yellow-400",children:[i.jsx("div",{className:"ml-1",children:"Pending:"}),i.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.pending)??0})]}),i.jsxs("div",{className:"flex text-[#e86100] items-center",children:[i.jsx("div",{className:"ml-1",children:"Urgent:"}),i.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.urgent)??0})]}),i.jsxs("div",{className:"flex text-blue-400 items-center",children:[i.jsx("div",{className:"ml-1",children:"Assigned:"}),i.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.assigned)??0})]})]}),i.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 text-md",children:[i.jsxs("div",{className:"flex text-green-600 items-center",children:[i.jsx("div",{className:"ml-1",children:"Closed:"}),i.jsx("div",{className:"ml-1 text-md",children:(e==null?void 0:e.closed)??0})]}),i.jsxs("div",{className:"flex text-[#ff0000] items-center",children:[i.jsx("div",{className:"ml-1",children:"Declined:"}),i.jsx("div",{className:" ml-1 text-md",children:(e==null?void 0:e.declined)??0})]})]})]}),i.jsxs("div",{className:"mb-2 mt-3 flex flex-1 justify-start items-start",children:["Total Tickets:",(e==null?void 0:e.total)??0]}),i.jsx(ne,{style:{height:"300px"},lineWidth:55,animate:!0,animationDuration:1e3,label:({dataEntry:r})=>`${Math.round(r.percentage)}%`,labelStyle:r=>({fill:"black",fontSize:"7px",fontFamily:"sans-serif",transform:r===n?"scale(1.1)":"scale(1)",transition:"transform 0.3s"}),labelPosition:74,paddingAngle:1.8,onMouseOver:(r,c,d)=>{t(c)},onMouseOut:()=>{t(null)},onClick:(r,c,d)=>{a(r,c)},data:[{title:"Urgent",value:(e==null?void 0:e.urgent)??0,color:"#e86100"},{title:"Closed",value:(e==null?void 0:e.closed)??0,color:"#009e60"},{title:"Assigned",value:(e==null?void 0:e.assigned)??0,color:"#4299E1"},{title:"Pending",value:(e==null?void 0:e.pending)??0,color:"#FFFF00"},{title:"Declined",value:(e==null?void 0:e.declined)??0,color:"#ff0000"}].filter(r=>r.value>0),segmentsStyle:r=>({transition:"transform 0.3s",transform:r===n?"scale(1.1)":"scale(1)"})})]})}),i.jsxs("div",{className:"mb-10",children:[i.jsxs("div",{className:"flex text-3xl items-center justify-center text-gray-900 font-bold mb-3 mt-6 p-3",children:[i.jsx(C,{className:"size-10"}),"IT Personnel Tickets Data Inquiry"]}),i.jsxs("select",{className:"w-full flex items-center justify-center ",onChange:r=>o(r.target.value),children:[i.jsx("option",{children:"Select an IT Personnel"}),(m=e==null?void 0:e.data)==null?void 0:m.map((r,c)=>i.jsx("option",{value:JSON.stringify(r),children:r==null?void 0:r.name},c))]}),i.jsx("div",{children:l&&i.jsxs(i.Fragment,{children:[i.jsx(z,{data:l}),i.jsx(B,{data:l})]})})]})]})]})}export{ue as default};

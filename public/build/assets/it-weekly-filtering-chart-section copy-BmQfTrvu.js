import{r as u,u as v,j as t}from"./app-DCZ25-iD.js";import{R as g}from"./index-D4piP1Vz.js";function D({data:a}){const[n,c]=u.useState(null);v(e=>e.admin);const l=new Date,o=new Date(l.setDate(l.getDate()-l.getDay()+1)),m=new Date(l.setDate(l.getDate()-l.getDay()+7)),x=e=>e.toISOString().split("T")[0],r=[];for(let e=new Date(o);e<=m;e.setDate(e.getDate()+1))r.push(x(new Date(e)));const i=(a==null?void 0:a.daily.reduce((e,s)=>r.includes(s.title)?e+s.count:e,0))??0,f=(e,s,d)=>{console.log("Clicked segment:",s)};return console.log("Weekly Data:",a),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-2",children:["Weekly Tickets: ",i]}),t.jsxs("div",{className:"flex w-full items-start justify-between",children:[t.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 text-md",children:[t.jsxs("div",{className:"flex items-center text-yellow-400",children:[t.jsx("div",{className:"ml-1",children:"Pending:"}),t.jsx("div",{className:"ml-1 text-md"})]}),t.jsxs("div",{className:"flex text-[#e86100] items-center",children:[t.jsx("div",{className:"ml-1",children:"Urgent:"}),t.jsx("div",{className:"ml-1 text-md"})]}),t.jsxs("div",{className:"flex text-blue-400 items-center",children:[t.jsx("div",{className:"ml-1",children:"Assigned:"}),t.jsx("div",{className:"ml-1 text-md"})]})]}),t.jsxs("div",{className:"flex flex-1 flex-col gap-0.5 text-md",children:[t.jsxs("div",{className:"flex text-green-600 items-center",children:[t.jsx("div",{className:"ml-1",children:"Closed:"}),t.jsx("div",{className:"ml-1 text-md"})]}),t.jsxs("div",{className:"flex text-[#ff0000] items-center",children:[t.jsx("div",{className:"ml-1",children:"Declined:"}),t.jsx("div",{className:"ml-1 text-md"})]})]})]}),t.jsx(g,{style:{height:"300px"},lineWidth:55,animate:!0,animationDuration:1e3,label:({dataEntry:e})=>`${Math.round(e.percentage)}%`,labelStyle:e=>({fill:"black",fontSize:"7px",fontFamily:"sans-serif",transform:e===n?"scale(1.1)":"scale(1)",transition:"transform 0.3s"}),labelPosition:74,paddingAngle:1.8,onMouseOver:(e,s,d)=>{c(s)},onMouseOut:()=>{c(null)},onClick:(e,s,d)=>{f(e,s)},data:[{title:"Urgent",value:i,color:"#e86100"},{title:"Closed",value:i,color:"#009e60"},{title:"Assigned",value:0,color:"#4299E1"},{title:"Pending",value:i,color:"#FFFF00"},{title:"Declined",value:0,color:"#ff0000"}].filter(e=>e.value>0),segmentsStyle:e=>({transition:"transform 0.3s",transform:e===n?"scale(1.1)":"scale(1)"})})]})}export{D as default};
